<div class="product">
  <!-- sorry for this nasty line, will be fixed asap -->
  <div class="article-card filtr-item" data-category="<% article.tags.each do |tag| %><%= tag.id %><% end %>">

    <div class="product-body">
      <% if current_user.voted_for?(article) %>
        <%= link_to upvote_path(current_user.vote_for(article)), method: :delete, class: 'product-upvote' do %>
          <div class="product-arrow">↑</div>
          <div class="product-count">
            <%= article.upvotes.count %>
          </div>
        <% end %>
      <% else %>
        <%= link_to upvotes_path(upvotable_id: article.id, upvotable_type: article.class), method: :post, class: 'product-upvote' do %>
          <div class="product-arrow">↑</div>
          <div class="product-count">
            <%= article.upvotes.count %>
          </div>
        <% end %>
      <% end %>

      <h3><%= article[:title] %></h3>
      <%= article[:description] %>
      <ul class="list-inline product-controls">
        <li>Tag:
          <!-- sorry for this nasty line, will be fixed asap -->
          <% article.tags.each do |tag| %><%= tag.name %><% end %>
        <li>
          <%= button_edit_article(article) %>
        </li>
        <li>
          <%= button_destroy_article(article) %>
        </li>
        <li>
          <%= link_to '<i class="fa fa-external-link"></i>'.html_safe, article.url, target: "_blank" %>
        </li>
      </ul>
    </div>

  </div>
</div>
